<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="mail_template_material_requisition_employee_manager" model="mail.template">
        <field name="name">Material Requisition: Employee Manager Approval Required</field>
        <field name="model_id" ref="azk_material_requisition.model_material_requisition"/>
        <field name="subject">Employee Manager Approval Required for Material Requisition {{ ctx.get('requisition_name') }}</field>
        <field name="email_from">{{ user.email_formatted }}</field>
        <field name="partner_to">{{ object.employee_manager_id.user_id.partner_id.id }}</field>
        <field name="body_html" type="html">
            <div style="font-family:Verdana, Arial,sans-serif; color: #454748; max-width: 900px; width: 100%;">
                <div style="display: none; max-height: 0px; overflow: hidden; color:#fff; font-size:0px; line-height:0px">
                    Material Requisition requires your approval [...]
                </div>
                <div style="padding: 0px;">
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" style="width: 100%; margin-top: 5px;">
                        <tbody>
                            <tr>
                                <td valign="center">
                                    <hr width="100%" style="background-color:rgb(204,204,204);border:none;clear:both;height:1px;margin:10px 0;"/>
                                </td>
                            </tr>
                            <tr>
                                <td valign="center" style="white-space:nowrap;">
                                    <table cellspacing="0" cellpadding="0" border="0">
                                        <tbody>
                                            <tr>
                                                <td style="border-radius: 3px; text-align: center; background: #875A7B;">
                                                    <a t-att-href="'/mail/view?model=%s&amp;res_id=%s' % (object._name, object.id)" style="font-size: 12px; color: #FFFFFF; display: block; padding: 8px 12px 11px; text-decoration: none; font-weight: 400;">
                                                        View Material Requisition
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="font-size: 13px;">
                    <p>
                        Dear <t t-out="ctx.get('employee_manager_name', object.employee_manager_id.name)"/>,<br/><br/>
                        The Material Requisition with reference <strong><t t-out="ctx.get('requisition_name', object.name)"/></strong> requires your attention for approval.<br/><br/>
                        Best regards,<br/><br/>
                    </p>
                </div>
                <div style="margin-top:32px;">
                    <hr width="100%" style="background-color:rgb(204,204,204);border:none;clear:both;height:1px;margin:16px 0 4px 0;"/>
                    <strong style="font-size:11px;"><t t-out="object.company_id.name or ''"/></strong>
                    <p style="color: #999999; margin-top:2px; font-size:11px;">
                        <t t-if="object.company_id.phone">
                            <t t-out="object.company_id.phone"/> |
                        </t>
                        <t t-if="object.company_id.email">
                            <a t-attf-href="mailto:{{object.company_id.email}}" style="text-decoration:none; color: #999999;">
                                <t t-out="object.company_id.email"/>
                            </a> |
                        </t>
                        <t t-if="object.company_id.website">
                            <a t-attf-href="{{object.company_id.website}}" style="text-decoration:none; color: #999999;">
                                <t t-out="object.company_id.website"/>
                            </a>
                        </t>
                    </p>
                </div>
            </div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

    <!-- Inventory Manager Approval Template -->
    <record id="mail_template_material_requisition_inventory_manager" model="mail.template">
        <field name="name">Material Requisition: Inventory Manager Approval Required</field>
        <field name="model_id" ref="azk_material_requisition.model_material_requisition"/>
        <field name="subject">Inventory Manager Approval Required for Material Requisition {{ ctx.get('requisition_name') }}</field>
        <field name="email_from">{{ user.email_formatted }}</field>
        <field name="partner_to">{{ object.get_inventory_manager_partner_id() }}</field>
        <field name="body_html" type="html">
            <div style="font-family:Verdana, Arial,sans-serif; color: #454748; max-width: 900px; width: 100%;">
                <div style="display: none; max-height: 0px; overflow: hidden; color:#fff; font-size:0px; line-height:0px">
                    Material Requisition requires your approval [...]
                </div>
                <div style="padding: 0px;">
                    <table role="presentation" cellspacing="0" cellpadding="0" border="0" style="width: 100%; margin-top: 5px;">
                        <tbody>
                            <tr>
                                <td valign="center">
                                    <hr width="100%" style="background-color:rgb(204,204,204);border:none;clear:both;height:1px;margin:10px 0;"/>
                                </td>
                            </tr>
                            <tr>
                                <td valign="center" style="white-space:nowrap;">
                                    <table cellspacing="0" cellpadding="0" border="0">
                                        <tbody>
                                            <tr>
                                                <td style="border-radius: 3px; text-align: center; background: #875A7B;">
                                                    <a t-att-href="'/mail/view?model=%s&amp;res_id=%s' % (object._name, object.id)" style="font-size: 12px; color: #FFFFFF; display: block; padding: 8px 12px 11px; text-decoration: none; font-weight: 400;">
                                                        View Material Requisition
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="font-size: 13px;">
                    <p>
                        Dear Inventory Manager,<br/><br/>
                        The Material Requisition with reference <strong><t t-out="ctx.get('requisition_name', object.name)"/></strong> requires your attention for approval.<br/><br/>
                        Best regards,<br/><br/>
                    </p>
                </div>
                <div style="margin-top:32px;">
                    <hr width="100%" style="background-color:rgb(204,204,204);border:none;clear:both;height:1px;margin:16px 0 4px 0;"/>
                    <strong style="font-size:11px;"><t t-out="object.company_id.name or ''"/></strong>
                    <p style="color: #999999; margin-top:2px; font-size:11px;">
                        <t t-if="object.company_id.phone">
                            <t t-out="object.company_id.phone"/> |
                        </t>
                        <t t-if="object.company_id.email">
                            <a t-attf-href="mailto:{{object.company_id.email}}" style="text-decoration:none; color: #999999;">
                                <t t-out="object.company_id.email"/>
                            </a> |
                        </t>
                        <t t-if="object.company_id.website">
                            <a t-attf-href="{{object.company_id.website}}" style="text-decoration:none; color: #999999;">
                                <t t-out="object.company_id.website"/>
                            </a>
                        </t>
                    </p>
                </div>
            </div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>
</odoo>
