<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="account_followup.email_template_followup_1" model="mail.template">
            <field name="name">Payment Reminder</field>
            <field name="subject">
                {{ (object.company_id or object._get_followup_responsible().company_id).name }}
                Payment Reminder - {{ object.commercial_company_name }}
            </field>
            <field name="email_from">{{ object._get_followup_responsible().email_formatted }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: 'Lucida Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFFFFF;">
                    <table border="0" cellpadding="0" cellspacing="0"
                           style="padding-top: 16px; background-color: #FFFFFF; font-family:'Lucida Grande',Ubuntu,Arial,Verdana,sans-serif; color: rgb(34, 34, 34); width: 100%; border-collapse:separate;">
                        <tr>
                            <td align="center">
                                <table border="0" cellpadding="0" cellspacing="0" width="590"
                                       style="padding: 16px; background-color: #FFFFFF; color: rgb(34, 34, 34); border-collapse:separate;">
                                    <tbody>
                                        <!-- Header -->
                                        <tr>
                                            <td align="center" style="min-width: 590px;">
                                                <table border="0" cellpadding="0" cellspacing="0" width="590"
                                                       style="min-width: 590px; background-color: white; padding: 0px 8px; border-collapse:separate;">
                                                    <tr>
                                                        <td valign="middle">
                                                            <span style="font-size: 20px; font-weight: bold;">
                                                                Subscription Renewal Reminder
                                                            </span>
                                                        </td>
                                                        <td valign="middle" align="right">
                                                            <img t-if="object.company_id.logo"
                                                                 t-att-src="image_data_uri(object.company_id.logo)"
                                                                 style="padding: 0px; margin: 0px; height: auto; width: 120px;"
                                                                 t-att-alt="object.company_id.name"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="2" style="text-align:center;">
                                                            <hr width="100%"
                                                                style="background-color:rgb(204,204,204);border:none;clear:both;height:1px; margin: 16px 0px;"/>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>

                                        <!-- Body -->
                                        <tr>
                                            <td align="center" style="min-width: 590px;">
                                                <table border="0" cellpadding="0" cellspacing="0" width="590"
                                                       style="min-width: 590px; background-color: white; padding: 0px 8px; border-collapse:separate;">
                                                    <tr>
                                                        <td valign="top" style="font-size: 13px;">
                                                            <div>
                                                                <p>Dear <t t-out="object.name"/>,
                                                                </p>

                                                                <p>Please be reminded that the following invoice(s) are
                                                                    due soon:
                                                                </p>
                                                                <t t-set="today" t-value="datetime.date.today()"/>
                                                                <t t-set="followup_line_id"
                                                                   t-value="object.followup_line_id"/>
                                                                <t t-foreach="object.unreconciled_aml_ids" t-as="line">
                                                                    <t t-if="line.date_maturity and (today - line.date_maturity).days &gt;= followup_line_id.delay and (today - line.date_maturity).days &lt; 0">
                                                                        <div style="margin-left: 20px; margin-bottom: 10px;">
                                                                            <strong>Invoice:</strong>
                                                                            <t t-out="line.move_id.name"/>
                                                                            <br/>
                                                                            <strong>Due Date:</strong>
                                                                            <t t-out="format_date(line.date_maturity)"/>
                                                                            <br/>
                                                                            <strong>Amount:</strong>
                                                                            <t t-out="format_amount(line.amount_residual_currency, line.currency_id)"/>
                                                                        </div>
                                                                    </t>
                                                                    <t t-elif="line.date_maturity and (today - line.date_maturity).days &lt;= followup_line_id.delay and (today - line.date_maturity).days &gt; 0">
                                                                        <div style="margin-left: 20px; margin-bottom: 10px;">
                                                                            <strong>Invoice:</strong>
                                                                            <t t-out="line.move_id.name"/>
                                                                            <br/>
                                                                            <strong>Due Date:</strong>
                                                                            <t t-out="format_date(line.date_maturity)"/>
                                                                            <br/>
                                                                            <strong>Amount:</strong>
                                                                            <t t-out="format_amount(line.amount_residual_currency, line.currency_id)"/>
                                                                        </div>
                                                                    </t>
                                                                </t>

                                                                <p>To ensure uninterrupted service, we respectfully
                                                                    request that you settle your renewal invoice prior
                                                                    to the expiration date. A copy of the invoice is
                                                                    attached for your convenience.
                                                                </p>

                                                                <p>For any inquiries or assistance, please contact our
                                                                    Accounts Team:
                                                                </p>
                                                                <p style="margin-left: 20px;">
                                                                    <strong>Email:</strong>
                                                                    Account@kkontech.com
                                                                    <br/>
                                                                    <strong>Phone:</strong>
                                                                    <t t-out="object.company_id.phone or '+234 XXX XXX XXXX'"/>
                                                                </p>

                                                                <p>We appreciate your continued patronage and look
                                                                    forward to serving you further.
                                                                </p>

                                                                <p>
                                                                    <strong>Thank you for choosing KKONTech.</strong>
                                                                </p>

                                                                <br/>
                                                                <p>
                                                                    Best regards,
                                                                    <br/>
                                                                    KKONTech Accounts Team
                                                                    <br/>
                                                                    <t t-out="object.company_id.name"/>
                                                                </p>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="text-align:center;">
                                                            <hr width="100%"
                                                                style="background-color:rgb(204,204,204);border:none;clear:both;height:1px; margin: 16px 0px;"/>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>

                                        <!-- Footer -->
                                        <tr>
                                            <td align="center" style="min-width: 590px;">
                                                <table border="0" cellpadding="0" cellspacing="0" width="590"
                                                       style="min-width: 590px; background-color: white; padding: 0px 8px; border-collapse:separate;">
                                                    <tr>
                                                        <td valign="middle" align="left">
                                                            <div>
                                                                <span style="font-size: 11px; color: #5f5f5f;">
                                                                    <t t-out="object.company_id.name"/>
                                                                </span>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
        </record>
    </data>
</odoo>
